(()=>{var e={};e.id=756,e.ids=[756],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},9793:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(482),a=r(9108),i=r(2563),l=r.n(i),o=r(8300),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);r.d(t,n);let d=["",{children:["project-kiosek",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7574)),"D:\\Cursor\\kiosek2.0\\frontend\\kiosek\\app\\project-kiosek\\[id]\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2585)),"D:\\Cursor\\kiosek2.0\\frontend\\kiosek\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\Cursor\\kiosek2.0\\frontend\\kiosek\\app\\project-kiosek\\[id]\\page.tsx"],u="/project-kiosek/[id]/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/project-kiosek/[id]/page",pathname:"/project-kiosek/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6586:(e,t,r)=>{Promise.resolve().then(r.bind(r,7185))},712:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},3759:()=>{},7185:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(5344),a=r(3729),i=r(8428),l=r(8136),o=r(2383),n=r(918),d=r(5803),c=r(6630),u=r(3539),m=r(8330);let p=e=>[".mp4",".mov",".avi",".webm"].some(t=>e.toLowerCase().endsWith(t)),h=({videoUrl:e})=>{let[t,r]=(0,a.useState)("");return(0,a.useRef)(null),(0,a.useEffect)(()=>{let t=document.createElement("video");t.src=`${m.v.apiUrl}/${e}`,t.crossOrigin="anonymous",t.preload="metadata",t.onloadeddata=()=>{t.currentTime=1},t.onseeked=()=>{let e=document.createElement("canvas");e.width=t.videoWidth,e.height=t.videoHeight;let s=e.getContext("2d");s?.drawImage(t,0,0),r(e.toDataURL("image/jpeg"))}},[e]),(0,s.jsxs)("div",{className:"relative w-full h-full",children:[s.jsx("img",{src:t||"/video-placeholder.png",alt:"Video thumbnail",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-white/80 flex items-center justify-center",children:s.jsx("div",{className:"w-0 h-0 border-l-[18px] border-l-gray-800 border-t-[12px] border-t-transparent border-b-[12px] border-b-transparent ml-1"})})})]})};function x(){let e=(0,i.useParams)(),t=(0,i.useRouter)(),[r,x]=(0,a.useState)(null),[g,v]=(0,a.useState)(!0),[f,b]=(0,a.useState)(null),[j,w]=(0,a.useState)(0),[k,y]=(0,a.useState)(!1),N=(0,a.useRef)(null),P=(0,a.useRef)(void 0);(0,a.useEffect)(()=>{let t=async()=>{try{let t=await fetch(`${m.v.apiUrl}/api/project?id=${e.id}`);if(!t.ok)throw Error("Failed to fetch project details");let r=await t.json(),s={id:r.id,name:r.name,description:r.description,thumbnail:r.thumbnail,tags:JSON.parse(r.tags||"[]"),media:JSON.parse(r.media||"[]"),created:r.created||new Date().toISOString()};x(s)}catch(e){console.error("Fetch error:",e),b(e instanceof Error?e.message:"Failed to fetch project details")}finally{v(!1)}};e.id&&t()},[e.id]);let $=()=>{if(!r)return;let e=[r.thumbnail,...r.media];p(e[j])&&N.current&&!N.current.paused||w(t=>(t+1)%e.length)};(0,a.useEffect)(()=>{let e;return r&&(e&&clearInterval(e),e=setInterval($,5e3)),()=>{e&&clearInterval(e)}},[r,j]);let _=()=>{y(!0),P.current&&(clearInterval(P.current),P.current=void 0)},S=()=>{y(!1);let e=[r.thumbnail,...r.media];w(t=>(t+1)%e.length)},E=()=>{y(!1),N.current&&N.current.currentTime<N.current.duration-.5&&(P.current=setInterval($,5e3))};return g?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50",children:s.jsx(l.Z,{size:"lg"})}):f||!r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 text-red-500",children:f||"Project not found"})}):s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 overflow-x-hidden relative",children:[s.jsx(o.Z,{onClick:()=>t.back(),startDecorator:s.jsx(u.Z,{}),variant:"soft",color:"neutral",className:"fixed bottom-8 right-8 z-50 shadow-lg hover:shadow-xl transition-shadow",size:"lg",children:"Zpět"}),s.jsx(n.Z,{maxWidth:!1,className:"p-4 md:p-8 max-w-7xl mx-auto",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8 w-full",children:[(0,s.jsxs)("div",{className:"md:col-span-7 lg:col-span-8 space-y-6 min-w-0",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg overflow-hidden",children:(()=>{if(!r)return null;let e=[r.thumbnail,...r.media][j];return p(e)?(0,s.jsxs)("video",{ref:N,src:`${m.v.apiUrl}/${e}`,controls:!0,controlsList:"nodownload",preload:"metadata",className:"w-full max-h-[500px] object-contain",onPlay:_,onEnded:S,onPause:E,children:[s.jsx("source",{src:`${m.v.apiUrl}/${e}`,type:`video/${e.split(".").pop()}`}),"Your browser does not support the video tag."]}):s.jsx("img",{src:`${m.v.apiUrl}/${e}`,alt:r.name,className:"w-full max-h-[500px] object-contain"})})()}),r&&(r.media.length>0||r.thumbnail)&&(0,s.jsxs)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-3 lg:grid-cols-4 gap-4 min-w-0",children:[s.jsx("div",{onClick:()=>w(0),className:`aspect-video rounded-xl overflow-hidden cursor-pointer transition-all min-w-0 ${0===j?"ring-2 ring-blue-500":""}`,children:s.jsx("img",{src:`${m.v.apiUrl}/${r.thumbnail}`,alt:"Project thumbnail",className:"w-full h-full object-cover"})}),r.media.map((e,t)=>s.jsx("div",{onClick:()=>w(t+1),className:`aspect-video rounded-xl overflow-hidden cursor-pointer transition-all min-w-0 ${j===t+1?"ring-2 ring-blue-500":""}`,children:p(e)?s.jsx(h,{videoUrl:e}):s.jsx("img",{src:`${m.v.apiUrl}/${e}`,alt:`Media ${t+1}`,className:"w-full h-full object-cover"})},t))]})]}),s.jsx("div",{className:"md:col-span-5 lg:col-span-4 space-y-6 min-w-0",children:(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 overflow-hidden",children:[s.jsx(d.ZP,{level:"h2",className:"text-2xl font-bold mb-4 break-words",children:r?.name}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:r?.tags.map((e,t)=>s.jsx(c.Z,{variant:"soft",color:"primary",size:"lg",className:"break-words",children:e},t))}),s.jsx("div",{className:"prose prose-neutral w-full text-gray-700 text-base md:text-lg overflow-x-hidden break-words",dangerouslySetInnerHTML:{__html:r?.description||""}})]})})]})})]})})}},8330:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});let s={apiUrl:"http://80.211.200.124/:5148"}},3539:(e,t,r)=>{"use strict";var s=r(9286);t.Z=void 0;var a=s(r(389)),i=r(5344);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},2585:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>l});var s=r(5036),a=r(450),i=r.n(a);r(7272);let l={title:"SPŠE Jecn\xe1 - Kiosek",description:"Kiosek pro SPŠE Jecn\xe1 projekty",viewport:"width=device-width, initial-scale=1, maximum-scale=1",icons:{icon:[{url:"/favicon.ico",sizes:"any"},{url:"http://80.211.200.124/:5148/uploads/SPSE-Jecna_Logo.svg",type:"image/svg+xml"}]}};function o({children:e}){return s.jsx("html",{lang:"en",className:`h-full ${i().variable}`,children:s.jsx("body",{className:"antialiased min-h-full flex flex-col bg-background text-foreground",children:s.jsx("main",{className:"flex-grow flex flex-col",children:e})})})}},7574:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let s=(0,r(6843).createProxy)(String.raw`D:\Cursor\kiosek2.0\frontend\kiosek\app\project-kiosek\[id]\page.tsx`),{__esModule:a,$$typeof:i}=s,l=s.default},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(337);let a=e=>[{type:"image/x-icon",sizes:"256x256",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,68,334,92,116],()=>r(9793));module.exports=s})();