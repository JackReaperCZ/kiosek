(()=>{var e={};e.id=150,e.ids=[150],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},3028:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(482),a=r(9108),i=r(2563),o=r.n(i),l=r(8300),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);r.d(t,n);let c=["",{children:["my-projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9579)),"D:\\Cursor\\kiosek2.0\\frontend\\kiosek\\app\\my-projects\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2585)),"D:\\Cursor\\kiosek2.0\\frontend\\kiosek\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\Cursor\\kiosek2.0\\frontend\\kiosek\\app\\my-projects\\page.tsx"],u="/my-projects/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/my-projects/page",pathname:"/my-projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4340:(e,t,r)=>{Promise.resolve().then(r.bind(r,207))},712:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},3759:()=>{},6675:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var s=r(5344),a=r(3729),i=r(2383),o=r(5803),l=r(8428),n=r(6702),c=r(3266),d=r(8077),u=r(9122),p=r(8330);function m(){let e=(0,l.useRouter)(),[t,r]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=()=>{r(localStorage.getItem("name"))};return e(),window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[]),s.jsx("nav",{className:"bg-white shadow-md fixed top-0 left-0 right-0 z-[60]",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("img",{src:`${p.v.apiUrl}/uploads/SPSE-Jecna_Logotyp.svg`,alt:"SPSE Jecna Logo",className:"h-15 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>e.push("/")})}),s.jsx("div",{className:"flex items-center gap-4",children:t?(0,s.jsxs)(s.Fragment,{children:[s.jsx(i.Z,{variant:"soft",color:"primary",onClick:()=>e.push("/my-projects"),startDecorator:s.jsx(u.Z,{}),className:"transition-all hover:scale-105",children:"Moje projekty"}),s.jsx(i.Z,{variant:"soft",color:"primary",onClick:()=>e.push("/upload"),startDecorator:s.jsx(d.Z,{}),className:"transition-all hover:scale-105",children:"Nahr\xe1t"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx(n.Z,{className:"text-gray-600"}),s.jsx(o.ZP,{level:"body-sm",className:"text-gray-600",children:t})]}),s.jsx(i.Z,{variant:"soft",color:"neutral",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("name"),window.location.reload()},startDecorator:s.jsx(c.Z,{}),className:"transition-all hover:scale-105",children:"Odhl\xe1sit se"})]}):s.jsx(i.Z,{variant:"solid",color:"primary",onClick:()=>e.push("/login"),className:"transition-all hover:scale-105",children:"Přihl\xe1sit se"})})]})})})}},207:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var s=r(5344),a=r(3729),i=r(8136),o=r(918),l=r(7359),n=r(2256),c=r(3575),d=r(1013),u=r(6630),p=r(2383),m=r(7592),h=r(5836),x=r(2595),v=r(8428),g=r(6675),f=r(8330);function j(){let e=(0,v.useRouter)(),[t,r]=(0,a.useState)([]),[j,y]=(0,a.useState)(!0),[b,w]=(0,a.useState)(null),[k,N]=(0,a.useState)(""),[Z,S]=(0,a.useState)([]),[P,C]=(0,a.useState)([]),[E,z]=(0,a.useState)("newest"),[D,_]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{let t=localStorage.getItem("token");if(!t){e.push("/login");return}try{if(!(await fetch(`${f.v.apiUrl}/api/auth/validate`,{method:"GET",headers:{Authorization:`Bearer ${t}`}})).ok)throw Error("Invalid token");_(!1)}catch(t){e.push("/login")}})()},[e]),(0,a.useEffect)(()=>{let e=async()=>{let e=localStorage.getItem("token");try{let t=await fetch(`${f.v.apiUrl}/api/preview/my-projects`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error("Failed to fetch projects");let s=await t.json(),a=new Set,i=s.map(e=>{let t=e.Tags||e.tags||[];if(t&&"object"==typeof t&&!Array.isArray(t))t=Object.values(t);else if(!Array.isArray(t)){if("string"==typeof t)try{(t=JSON.parse(t))&&"object"==typeof t&&!Array.isArray(t)&&(t=Object.values(t))}catch(e){console.error("Failed to parse tags:",e),t=[]}else t=[]}Array.isArray(t)&&t.forEach(e=>a.add(e));let r=e.Created&&0===Object.keys(e.Created).length?new Date().toISOString():e.Created||e.created||new Date().toISOString();return{id:e.ID||e.id,name:e.Name||e.name,thumbnailUrl:e.ThumbnailUrl||e.thumbnailUrl,tags:t,created:r,status:e.status}});r(i),C(Array.from(a)),y(!1)}catch(e){console.error("Fetch error:",e),w(e instanceof Error?e.message:"Failed to fetch projects"),y(!1)}};D||e()},[D]);let A=t.filter(e=>{let t=e.name.toLowerCase().includes(k.toLowerCase()),r=0===Z.length||Z.every(t=>e.tags.includes(t));return t&&r}).sort((e,t)=>{let r=new Date(e.created).getTime(),s=new Date(t.created).getTime();return"newest"===E?s-r:r-s});return D||j?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50",children:s.jsx(i.Z,{size:"lg"})}):b?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 text-red-500",children:b})}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(g.Z,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 pt-16",children:s.jsx(o.Z,{className:"py-8",children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-stretch sm:items-center",children:[s.jsx(l.ZP,{startDecorator:s.jsx(m.Z,{}),placeholder:"Hledat...",value:k,onChange:e=>N(e.target.value),className:"flex-grow bg-white"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(n.Z,{value:E,onChange:(e,t)=>t&&z(t),startDecorator:s.jsx(h.Z,{}),children:[s.jsx(c.Z,{value:"newest",children:"Od nejnovějš\xedho"}),s.jsx(c.Z,{value:"oldest",children:"Od nejstarš\xedho"})]}),s.jsx(n.Z,{multiple:!0,placeholder:"Filtrovat podle št\xedtků",value:Z,onChange:(e,t)=>{Array.isArray(t)&&S(t.map(e=>"string"==typeof e?e:e.value).filter(Boolean))},renderValue:e=>s.jsx(d.Z,{sx:{display:"flex",gap:"0.25rem",flexWrap:"wrap"},children:e.map(e=>{let t=("string"==typeof e?e:e.value).toString();return s.jsx(u.Z,{variant:"soft",color:"primary",size:"sm",children:t},t)})}),className:"min-w-[200px]",children:P.map(e=>s.jsx(c.Z,{value:e,children:e},e))})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(t=>(0,s.jsxs)(d.Z,{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg overflow-hidden    transition-all hover:shadow-xl hover:scale-[1.02] group relative",children:[(0,s.jsxs)("div",{className:"aspect-video overflow-hidden relative",children:[s.jsx("img",{src:`${f.v.apiUrl}/${t.thumbnailUrl}`,alt:t.name,className:"w-full h-full object-cover"}),t.status&&s.jsx("div",{className:`absolute top-2 right-2 px-3 py-1 rounded-full text-sm font-medium
                        ${"Approved."===t.status?"bg-green-100 text-green-800":"Denied."===t.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:t.status}),s.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100    transition-opacity duration-200 flex items-center justify-center gap-3",children:s.jsx(p.Z,{variant:"solid",color:"neutral",onClick:r=>{r.stopPropagation(),e.push(`/edit/${t.id}`)},startDecorator:s.jsx(x.Z,{}),className:"transition-transform hover:scale-105",children:"Upravit"})})]}),(0,s.jsxs)("div",{className:"p-4 space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t.name}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((e,t)=>s.jsx(u.Z,{variant:"soft",color:"primary",size:"sm",children:e},t))})]})]},t.id))}),0===A.length&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Požn\xe1 by to chtělo nějak\xe9 projekty \uD83E\uDD37."})})]})})})]})}},8330:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});let s={apiUrl:"http://80.211.200.124/:5148"}},2595:(e,t,r)=>{"use strict";var s=r(9286);t.Z=void 0;var a=s(r(389)),i=r(5344);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},9122:(e,t,r)=>{"use strict";var s=r(9286);t.Z=void 0;var a=s(r(389)),i=r(5344);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"}),"Folder")},3266:(e,t,r)=>{"use strict";var s=r(9286);t.Z=void 0;var a=s(r(389)),i=r(5344);t.Z=(0,a.default)((0,i.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout")},6702:(e,t,r)=>{"use strict";var s=r(9286);t.Z=void 0;var a=s(r(389)),i=r(5344);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},7592:(e,t,r)=>{"use strict";var s=r(9286);t.Z=void 0;var a=s(r(389)),i=r(5344);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},5836:(e,t,r)=>{"use strict";var s=r(9286);t.Z=void 0;var a=s(r(389)),i=r(5344);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M3 18h6v-2H3zM3 6v2h18V6zm0 7h12v-2H3z"}),"Sort")},8077:(e,t,r)=>{"use strict";var s=r(9286);t.Z=void 0;var a=s(r(389)),i=r(5344);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"}),"Upload")},2585:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>o});var s=r(5036),a=r(450),i=r.n(a);r(7272);let o={title:"SPŠE Jecn\xe1 - Kiosek",description:"Kiosek pro SPŠE Jecn\xe1 projekty",viewport:"width=device-width, initial-scale=1, maximum-scale=1",icons:{icon:[{url:"/favicon.ico",sizes:"any"},{url:"http://80.211.200.124/:5148/uploads/SPSE-Jecna_Logo.svg",type:"image/svg+xml"}]}};function l({children:e}){return s.jsx("html",{lang:"en",className:`h-full ${i().variable}`,children:s.jsx("body",{className:"antialiased min-h-full flex flex-col bg-background text-foreground",children:s.jsx("main",{className:"flex-grow flex flex-col",children:e})})})}},9579:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>o});let s=(0,r(6843).createProxy)(String.raw`D:\Cursor\kiosek2.0\frontend\kiosek\app\my-projects\page.tsx`),{__esModule:a,$$typeof:i}=s,o=s.default},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(337);let a=e=>[{type:"image/x-icon",sizes:"256x256",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,68,334,92,806,116,980],()=>r(3028));module.exports=s})();