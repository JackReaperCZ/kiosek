(()=>{var e={};e.id=188,e.ids=[188],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},5586:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(482),a=r(9108),i=r(2563),l=r.n(i),o=r(8300),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);r.d(t,n);let c=["",{children:["project",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7668)),"D:\\Cursor\\kiosek2.0\\frontend\\kiosek\\app\\project\\[id]\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2585)),"D:\\Cursor\\kiosek2.0\\frontend\\kiosek\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\Cursor\\kiosek2.0\\frontend\\kiosek\\app\\project\\[id]\\page.tsx"],u="/project/[id]/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/project/[id]/page",pathname:"/project/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2170:(e,t,r)=>{Promise.resolve().then(r.bind(r,6123))},712:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},3759:()=>{},6675:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var s=r(5344),a=r(3729),i=r(2383),l=r(5803),o=r(8428),n=r(6702),c=r(3266),d=r(8077),u=r(9122),m=r(8330);function p(){let e=(0,o.useRouter)(),[t,r]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=()=>{r(localStorage.getItem("name"))};return e(),window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[]),s.jsx("nav",{className:"bg-white shadow-md fixed top-0 left-0 right-0 z-[60]",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("img",{src:`${m.v.apiUrl}/uploads/SPSE-Jecna_Logotyp.svg`,alt:"SPSE Jecna Logo",className:"h-15 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>e.push("/")})}),s.jsx("div",{className:"flex items-center gap-4",children:t?(0,s.jsxs)(s.Fragment,{children:[s.jsx(i.Z,{variant:"soft",color:"primary",onClick:()=>e.push("/my-projects"),startDecorator:s.jsx(u.Z,{}),className:"transition-all hover:scale-105",children:"Moje projekty"}),s.jsx(i.Z,{variant:"soft",color:"primary",onClick:()=>e.push("/upload"),startDecorator:s.jsx(d.Z,{}),className:"transition-all hover:scale-105",children:"Nahr\xe1t"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx(n.Z,{className:"text-gray-600"}),s.jsx(l.ZP,{level:"body-sm",className:"text-gray-600",children:t})]}),s.jsx(i.Z,{variant:"soft",color:"neutral",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("name"),window.location.reload()},startDecorator:s.jsx(c.Z,{}),className:"transition-all hover:scale-105",children:"Odhl\xe1sit se"})]}):s.jsx(i.Z,{variant:"solid",color:"primary",onClick:()=>e.push("/login"),className:"transition-all hover:scale-105",children:"Přihl\xe1sit se"})})]})})})}},6123:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(5344),a=r(3729),i=r(8428),l=r(8136),o=r(918),n=r(2383),c=r(1013),d=r(5803),u=r(6630),m=r(3539),p=r(6675),h=r(8330);let x=e=>[".mp4",".mov",".avi",".webm"].some(t=>e.toLowerCase().endsWith(t)),v=({videoUrl:e})=>{let[t,r]=(0,a.useState)("");return(0,a.useRef)(null),(0,a.useEffect)(()=>{let t=document.createElement("video");t.src=`${h.v.apiUrl}/${e}`,t.crossOrigin="anonymous",t.preload="metadata",t.onloadeddata=()=>{t.currentTime=1},t.onseeked=()=>{let e=document.createElement("canvas");e.width=t.videoWidth,e.height=t.videoHeight;let s=e.getContext("2d");s?.drawImage(t,0,0),r(e.toDataURL("image/jpeg"))}},[e]),(0,s.jsxs)("div",{className:"relative w-full h-full",children:[s.jsx("img",{src:t||"/video-placeholder.png",alt:"Video thumbnail",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-white/80 flex items-center justify-center",children:s.jsx("div",{className:"w-0 h-0 border-l-[18px] border-l-gray-800 border-t-[12px] border-t-transparent border-b-[12px] border-b-transparent ml-1"})})})]})};function g(){let e=(0,i.useParams)(),t=(0,i.useRouter)(),[r,g]=(0,a.useState)(null),[f,j]=(0,a.useState)(!0),[b,y]=(0,a.useState)(null),[w,N]=(0,a.useState)(0),[k,Z]=(0,a.useState)(!1),P=(0,a.useRef)(null),$=(0,a.useRef)(void 0);(0,a.useEffect)(()=>{let t=async()=>{try{let t=await fetch(`${h.v.apiUrl}/api/project?id=${e.id}`);if(!t.ok)throw Error("Failed to fetch project details");let r=await t.json(),s={id:r.id,name:r.name,description:r.description,thumbnail:r.thumbnail,tags:JSON.parse(r.tags||"[]"),media:JSON.parse(r.media||"[]"),created:r.created||new Date().toISOString()};g(s)}catch(e){console.error("Fetch error:",e),y(e instanceof Error?e.message:"Failed to fetch project details")}finally{j(!1)}};e.id&&t()},[e.id]);let S=()=>{if(!r)return;let e=[r.thumbnail,...r.media];x(e[w])&&P.current&&!P.current.paused||N(t=>(t+1)%e.length)};(0,a.useEffect)(()=>{let e;return r&&(e&&clearInterval(e),e=setInterval(S,5e3)),()=>{e&&clearInterval(e)}},[r,w]);let _=()=>{Z(!0),$.current&&(clearInterval($.current),$.current=void 0)},E=()=>{Z(!1);let e=[r.thumbnail,...r.media];N(t=>(t+1)%e.length)},C=()=>{Z(!1),P.current&&P.current.currentTime<P.current.duration-.5&&($.current=setInterval(S,5e3))};return f?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50",children:s.jsx(l.Z,{size:"lg"})}):b||!r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 text-red-500",children:b||"Project not found"})}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(p.Z,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 pt-16",children:(0,s.jsxs)(o.Z,{className:"py-8 px-4",children:[s.jsx(n.Z,{onClick:()=>t.back(),startDecorator:s.jsx(m.Z,{}),variant:"soft",color:"neutral",className:"mb-6",children:"Zpět na hlavn\xed str\xe1nku"}),(0,s.jsxs)(c.Z,{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-xl p-6 space-y-8",sx:{border:"1px solid rgba(255, 255, 255, 0.2)"},children:[(0,s.jsxs)("div",{className:"border-b pb-6",children:[s.jsx(d.ZP,{level:"h1",className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:r.name}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:r.tags.map((e,t)=>s.jsx(u.Z,{variant:"soft",color:"primary",size:"sm",children:e},`${e}-${t}`))}),(0,s.jsxs)(d.ZP,{level:"body-sm",className:"text-gray-600 mt-2",children:["Vytvořeno ",new Date(r.created).toLocaleDateString()]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("div",{className:"overflow-hidden rounded-xl",children:(()=>{if(!r)return null;let e=[r.thumbnail,...r.media][w];return x(e)?(0,s.jsxs)("video",{ref:P,src:`${h.v.apiUrl}/${e}`,controls:!0,controlsList:"nodownload",preload:"metadata",className:"w-full max-h-[500px] object-contain",onPlay:_,onEnded:E,onPause:C,children:[s.jsx("source",{src:`${h.v.apiUrl}/${e}`,type:`video/${e.split(".").pop()}`}),"Your browser does not support the video tag."]}):s.jsx("img",{src:`${h.v.apiUrl}/${e}`,alt:r.name,className:"w-full max-h-[500px] object-contain"})})()}),s.jsx("div",{className:"flex justify-center gap-2",children:r?.media&&[...Array(r.media.length+1)].map((e,t)=>s.jsx("button",{onClick:()=>{N(t),k&&P.current&&P.current.pause()},className:`w-2 h-2 rounded-full transition-all ${w===t?"bg-blue-600 w-4":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to media ${t+1}`},t))}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mt-6",children:[s.jsx("div",{onClick:()=>{N(0),k&&P.current&&P.current.pause()},className:`
                    aspect-video rounded-lg overflow-hidden cursor-pointer
                    transition-all hover:opacity-80
                    ${0===w?"ring-2 ring-blue-500 ring-offset-2":""}
                  `,children:s.jsx("img",{src:`${h.v.apiUrl}/${r.thumbnail}`,alt:"Thumbnail",className:"w-full h-full object-cover"})}),r.media.map((e,t)=>s.jsx("div",{onClick:()=>{N(t+1),k&&P.current&&P.current.pause()},className:`
                      aspect-video rounded-lg overflow-hidden cursor-pointer
                      transition-all hover:opacity-80
                      ${w===t+1?"ring-2 ring-blue-500 ring-offset-2":""}
                    `,children:x(e)?s.jsx(v,{videoUrl:e}):s.jsx("img",{src:`${h.v.apiUrl}/${e}`,alt:`Media ${t+1}`,className:"w-full h-full object-cover"})},`thumb-${t}`))]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(d.ZP,{level:"h3",className:"text-gray-700",children:"Popis"}),s.jsx("div",{className:"prose prose-blue max-w-none text-gray-600",dangerouslySetInnerHTML:{__html:r.description}})]})]})]})})]})}},8330:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});let s={apiUrl:"http://80.211.200.124/:5148"}},3539:(e,t,r)=>{"use strict";var s=r(9286);t.Z=void 0;var a=s(r(389)),i=r(5344);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},9122:(e,t,r)=>{"use strict";var s=r(9286);t.Z=void 0;var a=s(r(389)),i=r(5344);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"}),"Folder")},3266:(e,t,r)=>{"use strict";var s=r(9286);t.Z=void 0;var a=s(r(389)),i=r(5344);t.Z=(0,a.default)((0,i.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout")},6702:(e,t,r)=>{"use strict";var s=r(9286);t.Z=void 0;var a=s(r(389)),i=r(5344);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},8077:(e,t,r)=>{"use strict";var s=r(9286);t.Z=void 0;var a=s(r(389)),i=r(5344);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"}),"Upload")},1013:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var s=r(5651),a=r(1848),i=r(3729),l=r(6815),o=r(982),n=r(1330),c=r(2037),d=r(310),u=r(5344);let m=["className","component"];var p=r(5166),h=r(1937),x=r(2704);let v=(0,r(732).Z)("MuiBox",["root"]),g=function(e={}){let{themeId:t,defaultTheme:r,defaultClassName:p="MuiBox-root",generateClassName:h}=e,x=(0,o.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(n.Z);return i.forwardRef(function(e,i){let o=(0,d.Z)(r),n=(0,c.Z)(e),{className:v,component:g="div"}=n,f=(0,a.Z)(n,m);return(0,u.jsx)(x,(0,s.Z)({as:g,ref:i,className:(0,l.Z)(v,h?h(p):p),theme:t&&o[t]||o},f))})}({themeId:x.Z,defaultTheme:h.Z,defaultClassName:v.root,generateClassName:p.Z.generate})},2585:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>l});var s=r(5036),a=r(450),i=r.n(a);r(7272);let l={title:"SPŠE Jecn\xe1 - Kiosek",description:"Kiosek pro SPŠE Jecn\xe1 projekty",viewport:"width=device-width, initial-scale=1, maximum-scale=1",icons:{icon:[{url:"/favicon.ico",sizes:"any"},{url:"http://80.211.200.124/:5148/uploads/SPSE-Jecna_Logo.svg",type:"image/svg+xml"}]}};function o({children:e}){return s.jsx("html",{lang:"en",className:`h-full ${i().variable}`,children:s.jsx("body",{className:"antialiased min-h-full flex flex-col bg-background text-foreground",children:s.jsx("main",{className:"flex-grow flex flex-col",children:e})})})}},7668:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let s=(0,r(6843).createProxy)(String.raw`D:\Cursor\kiosek2.0\frontend\kiosek\app\project\[id]\page.tsx`),{__esModule:a,$$typeof:i}=s,l=s.default},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(337);let a=e=>[{type:"image/x-icon",sizes:"256x256",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,68,334,92,116],()=>r(5586));module.exports=s})();